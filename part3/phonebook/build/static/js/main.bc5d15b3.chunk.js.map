{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services.js","App.js","index.js"],"names":["Filter","searchText","setSearchText","onChange","event","target","value","PersonForm","newName","newNumber","setNewName","setNewNumber","handleSubmit","setMessage","setNotification","onFocus","type","onClick","Persons","persons","deletePerson","filter","person","name","toLowerCase","includes","map","number","Notification","notification","message","className","baseUrl","axios","get","then","response","data","post","id","delete","put","App","useState","setPersons","useEffect","services","catch","error","console","log","preventDefault","existedPerson","find","window","confirm","alert","prev","concat","newPersons","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc5d15b3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ searchText, setSearchText }) => <div>\n  filter shows with <input onChange={event => setSearchText(event.target.value)} value={searchText}></input>\n</div>\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = ({ newName, newNumber, setNewName, setNewNumber, handleSubmit, setMessage, setNotification }) =>\n  <form>\n    <div>\n      name: <input onChange={event => setNewName(event.target.value)} value={newName} onFocus={() => {\n        setNotification('')\n        setMessage('')\n      }}/>\n    </div>\n    <div>\n      number: <input onChange={event => setNewNumber(event.target.value)} value={newNumber} />\n    </div>\n    <div>\n      <button type=\"submit\" onClick={handleSubmit}>add</button>\n    </div>\n  </form>\n\nexport default PersonForm;","import React from \"react\";\n\nconst Persons = ({ persons, searchText, deletePerson }) =>\n  persons\n    .filter((person) =>\n      person.name.toLowerCase().includes(searchText.toLowerCase())\n    )\n    .map((person) => (\n      <p key={person.name}>\n        {person.name} {person.number}{\" \"}\n        <button onClick={() => deletePerson(person)}>delete</button>\n      </p>\n    ));\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ notification, message }) =>\n  notification && (\n    <div className={notification === \"error\" ? \"error\" : \"success\"}>\n      {message}\n    </div>\n);\n\nexport default Notification;\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst createPerson = person => {\n  const request = axios.post(baseUrl, person)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updatePerson = person => {\n  const request = axios.put(`${baseUrl}/${person.id}`, person)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { \n  getAll, \n  createPerson, \n  deletePerson,\n  updatePerson\n}","import React, { useEffect, useState } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Notification from \"./Notification\";\nimport services from \"./services\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchText, setSearchText] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [notification, setNotification] = useState(\"\");\n\n  useEffect(() => {\n    services\n      .getAll()\n      .then(data => {\n        setPersons(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const existedPerson = persons.find(person => person.name === newName);\n    if (existedPerson) {\n      if (newNumber) {\n        if (\n          window.confirm(\n            `${existedPerson.name} is already added to phonebook, replace the old number with a new one?`\n          )\n        ) {\n          existedPerson.number = newNumber;\n          services\n            .updatePerson(existedPerson)\n            .then(data => {\n              setNotification(\"success\");\n              setMessage(`${data.name} is updated successfully`);\n            })\n            .catch((error) => {\n              console.log(error);\n              setNotification(\"error\");\n              setMessage(\n                `Information of ${existedPerson.name} has already been removed from server`\n              );\n            });\n        }\n      } else {\n        alert(`${newName} is already added to phonebook`);\n      }\n    } else {\n      services\n        .createPerson({\n          name: newName,\n          number: newNumber,\n        })\n        .then(data => {\n          setPersons(prev => prev.concat(data));\n          setNotification(\"success\");\n          setMessage(`Added ${newName}`);\n        }).catch(error => {\n          console.log(error);\n        });\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      services\n        .deletePerson(person.id)\n        .then(() => {\n          const newPersons = persons.filter(p => p.id !== person.id);\n          setPersons(newPersons);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} message={message} />\n      <Filter searchText={searchText} setSearchText={setSearchText} />\n      <h3>add a new</h3>\n      <PersonForm\n        newNumber={newNumber}\n        newName={newName}\n        setNewName={setNewName}\n        setNewNumber={setNewNumber}\n        handleSubmit={handleSubmit}\n        setMessage={setMessage}\n        setNotification={setNotification}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={persons}\n        searchText={searchText}\n        deletePerson={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}