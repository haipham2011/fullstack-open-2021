(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(14),o=n.n(c),r=n(3),a=n(1),s=n(0),u=function(e){var t=e.searchText,n=e.setSearchText;return Object(s.jsxs)("div",{children:["filter shows with ",Object(s.jsx)("input",{onChange:function(e){return n(e.target.value)},value:t})]})},i=function(e){var t=e.newName,n=e.newNumber,c=e.setNewName,o=e.setNewNumber,r=e.handleSubmit,a=e.setMessage,u=e.setNotification;return Object(s.jsxs)("form",{children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{onChange:function(e){return c(e.target.value)},value:t,onFocus:function(){u(""),a("")}})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{onChange:function(e){return o(e.target.value)},value:n})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",onClick:r,children:"add"})})]})},d=function(e){var t=e.persons,n=e.searchText,c=e.deletePerson;return t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return Object(s.jsxs)("p",{children:[e.name," ",e.number," ",Object(s.jsx)("button",{onClick:function(){return c(e)},children:"delete"})]},e.name)}))},b=function(e){var t=e.notification,n=e.message;return t&&Object(s.jsx)("div",{className:"error"===t?"error":"success",children:n})},j=n(4),f=n.n(j),h="/api/persons",l=function(){return f.a.get(h).then((function(e){return e.data}))},m=function(e){return f.a.post(h,e).then((function(e){return e.data}))},O=function(e){return f.a.delete("".concat(h,"/").concat(e))},x=function(e){return f.a.put("".concat(h,"/").concat(e.id),e).then((function(e){return e.data}))},p=(n(38),function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),j=Object(r.a)(o,2),f=j[0],h=j[1],p=Object(a.useState)(""),v=Object(r.a)(p,2),w=v[0],g=v[1],N=Object(a.useState)(""),S=Object(r.a)(N,2),k=S[0],C=S[1],y=Object(a.useState)(""),T=Object(r.a)(y,2),P=T[0],D=T[1],E=Object(a.useState)(""),I=Object(r.a)(E,2),J=I[0],L=I[1];Object(a.useEffect)((function(){l().then((function(e){c(e)})).catch((function(e){console.log(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(b,{notification:J,message:P}),Object(s.jsx)(u,{searchText:k,setSearchText:C}),Object(s.jsx)("h3",{children:"add a new"}),Object(s.jsx)(i,{newNumber:w,newName:f,setNewName:h,setNewNumber:g,handleSubmit:function(e){e.preventDefault();var t=n.find((function(e){return e.name===f}));t?w?window.confirm("".concat(t.name," is already added to phonebook, replace the old number with a new one?"))&&(t.number=w,x(t).then((function(e){L("success"),D("".concat(e.name," is updated successfully"))})).catch((function(e){console.log(e),L("error"),D("Information of ".concat(t.name," has already been removed from server"))}))):alert("".concat(f," is already added to phonebook")):m({name:f,number:w}).then((function(e){c((function(t){return t.concat(e)})),L("success"),D("Added ".concat(f))})).catch((function(e){console.log(e)})),h(""),g("")},setMessage:D,setNotification:L}),Object(s.jsx)("h3",{children:"Numbers"}),Object(s.jsx)(d,{persons:n,searchText:k,deletePerson:function(e){window.confirm("Delete ".concat(e.name," ?"))&&O(e.id).then((function(){var t=n.filter((function(t){return t.id!==e.id}));c(t)})).catch((function(e){console.log(e)}))}})]})});o.a.render(Object(s.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.bc5d15b3.chunk.js.map